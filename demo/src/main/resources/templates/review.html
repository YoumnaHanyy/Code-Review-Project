<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CodeCritic - Social Code Reviews</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../static/css/review-page.css">
</head>
<body>
    <header>
        <div class="header-container">
            <a href="#" class="logo">
                <i class="fas fa-code"></i>
                CodeCritic
            </a>
            <div class="search-container">
                <div class="search-bar">
                    <i class="fas fa-search"></i>
                    <input type="text" placeholder="Search for code, developers, languages...">
                </div>
            </div>
            <div class="nav-links">
                <a href="#" class="active"><i class="fas fa-home"></i> Feed</a>
                <a href="#"><i class="fas fa-bell"></i> Dashboard</a>
                <a href="#"><i class="fas fa-user-friends"></i> Network</a>
                <a href="#"><i class="fas fa-code-branch"></i> Pull Requests</a>
                <a href="#"><i class="fas fa-code"></i> Reviews</a>

            </div>
            <div class="user-actions">
                <img src="../static/images/user.png" alt="Profile" class="profile-img">
                <div class="theme-toggle" id="themeToggle">
                    <i class="fas fa-moon"></i>            </div>
        </div>
    </header>

    <div class="container">
        <div class="main-container">
            <div class="left-sidebar sidebar">
                <div class="sidebar-menu">
                    <h3>Menu</h3>
                    <a href="#" class="menu-item active">
                        <i class="fas fa-home"></i>
                        Home Feed
                    </a>
                    <a href="#" class="menu-item">
                        <i class="fas fa-folder"></i>
                        My Posts
                    </a>
                    <a href="#" class="menu-item">
                        <i class="fas fa-code-branch"></i>
                        Pull Requests
                    </a>
                    <a href="#" class="menu-item">
                        <i class="fas fa-exclamation-circle"></i>
                        Issues
                    </a>
                    <a href="#" class="menu-item">
                        <i class="fas fa-chart-line"></i>
                        Analytics
                    </a>
                    <a href="#" class="menu-item">
                        <i class="fas fa-cog"></i>
                        Settings
                    </a>
                </div>

                <div class="sidebar-menu">
                    <h3>Languages</h3>
                    <a href="#" class="menu-item">
                        <i class="fab fa-js"></i>
                        JavaScript
                    </a>
                    <a href="#" class="menu-item">
                        <i class="fab fa-python"></i>
                        Python
                    </a>
                    <a href="#" class="menu-item">
                        <i class="fab fa-java"></i>
                        Java
                    </a>
                    <a href="#" class="menu-item">
                        <i class="fab fa-react"></i>
                        React
                    </a>
                    <a href="#" class="menu-item">
                        <i class="fab fa-node-js"></i>
                        Node.js
                    </a>
                </div>
            </div>

            <div class="feed">
                <div class="post-form">
                    <div class="form-header">
                        <img src="../static/images/user.png" alt="Profile">
                        <div>Share your code challenge</div>
                    </div>
                    <textarea class="post-input" placeholder="What code are you stuck on?"></textarea>
                    <div class="post-actions">
                        <div class="attach-options">
                            <button class="attach-btn"><i class="fas fa-code"></i> Code</button>
                            <button class="attach-btn"><i class="fas fa-image"></i> Image</button>
                            <button class="attach-btn"><i class="fas fa-link"></i> Link</button>
                            <button class="attach-btn"><i class="fas fa-file-code"></i> Gist</button>
                        </div>
                        <button class="post-btn">Post</button>
                    </div>
                </div>

                <div class="filter-tabs">
                    <div class="filter-tab active">Recent</div>
                    <div class="filter-tab">Popular</div>
                    <div class="filter-tab">Following</div>
                    <div class="filter-tab">Urgent</div>
                </div>

                <div class="post-card">
                    <div class="post-header">
                        <div class="user-info">
                            <img src="../static/images/woman (2).png" alt="Sarah Chen">
                            <div class="user-text">
                                <div class="user-name">Sarah Chen</div>
                                <div class="post-meta">
                                    <span>Senior Frontend Dev</span>
                                    <span class="dot">•</span>
                                    <span>2h ago</span>
                                    <span class="post-tag">React</span>
                                </div>
                            </div>
                        </div>
                        <button class="post-menu"><i class="fas fa-ellipsis-h"></i></button>
                    </div>
                    <div class="post-content">
                        <p>I'm struggling with this React hook that's causing an infinite re-render loop. Can someone take a look and tell me what I'm doing wrong?</p>
                        <div class="code-block">
                            <div class="code-header">
                                <div class="language-tag">
                                    <i class="fab fa-react"></i> React Hooks
                                </div>
                                <div class="code-actions">
                                    <button class="code-action-btn"><i class="fas fa-copy"></i></button>
                                    <button class="code-action-btn"><i class="fas fa-expand"></i></button>
                                </div>
                            </div>
                            <pre><span class="line-numbers">1</span>import { useState, useEffect } from 'react';
<span class="line-numbers">2</span>
<span class="line-numbers">3</span>function UserProfile({ userId }) {
<span class="line-numbers">4</span>  const [user, setUser] = useState(null);
<span class="line-numbers">5</span>  const [loading, setLoading] = useState(true);
<span class="line-numbers">6</span>
<span class="line-numbers">7</span>  useEffect(() => {
<span class="line-numbers">8</span>    const fetchUser = async () => {
<span class="line-numbers">9</span>      setLoading(true);
<span class="line-numbers">10</span>      try {
<span class="line-numbers">11</span>        const response = await fetch(`/api/users/${userId}`);
<span class="line-numbers">12</span>        const data = await response.json();
<span class="line-numbers">13</span>        setUser(data);
<span class="line-numbers">14</span>        // I'm setting loading false here
<span class="line-numbers">15</span>        setLoading(false);
<span class="line-numbers">16</span>      } catch (error) {
<span class="line-numbers">17</span>        console.error('Error fetching user:', error);
<span class="line-numbers">18</span>        setLoading(false);
<span class="line-numbers">19</span>      }
<span class="line-numbers">20</span>    };
<span class="line-numbers">21</span>
<span class="line-numbers">22</span>    fetchUser();
<span class="line-numbers">23</span>    
<span class="line-numbers">24</span>    // The issue might be here? 
<span class="line-numbers">25</span>    setLoading(false);
<span class="line-numbers">26</span>  }, [userId, loading]);  // Why is this re-rendering infinitely?
<span class="line-numbers">27</span>
<span class="line-numbers">28</span>  if (loading) return <div>Loading...</div>;
<span class="line-numbers">29</span>  
<span class="line-numbers">30</span>  return (
<span class="line-numbers">31</span>    <div>
<span class="line-numbers">32</span>      <h1>{user.name}</h1>
<span class="line-numbers">33</span>      <p>{user.bio}</p>
<span class="line-numbers">34</span>    </div>
<span class="line-numbers">35</span>  );
<span class="line-numbers">36</span>}</pre>
                        </div>
                    </div>
                    <div class="post-stats">
                        <div>12 Likes • 8 Comments • 3 Requests</div>
                        <div>Viewed 87 times</div>
                    </div>
                    <div class="post-actions-menu">
                        <button class="action-btn" id="like-btn-1">
                            <i class="far fa-thumbs-up"></i> Like
                        </button>
                        <button class="action-btn" id="comment-btn-1">
                            <i class="far fa-comment"></i> Comment
                        </button>
                        <button class="action-btn" id="request-btn-1">
                            <i class="far fa-edit"></i> Request modification
                        </button>
                    </div>
                    
                    <div class="comments-section" id="comments-1" style="display: none;">
                        <div class="comment-form">
                            <img src="/api/placeholder/320/320" alt="Your profile">
                            <div class="comment-input-container">
                                <input type="text" class="comment-input" placeholder="Write a comment...">
                                <button class="comment-submit"><i class="fas fa-paper-plane"></i></button>
                            </div>
                        </div>
                        
                        <div class="comment">
                            <img src="/api/placeholder/320/320" alt="Mark Johnson">
                            <div class="comment-content">
                                <div class="comment-user">Mark Johnson</div>
                                <div class="comment-text">
                                    The infinite loop is because you have 'loading' in your dependency array, and you're updating it inside the effect. Remove loading from the dependency array and it should work.
                                </div>
                                <div class="comment-actions">
                                    <div class="comment-action">Like</div>
                                    <div class="comment-action">Reply</div>
                                    <div class="comment-action">3h ago</div>
                                </div>
                            </div>
                        </div>

                        <div class="comment">
                            <img src="/api/placeholder/320/320" alt="Emily Watson">
                            <div class="comment-content">
                                <div class="comment-user">Emily Watson</div>
                                <div class="comment-text">
                                    Also, line 25 is unnecessary and could be causing issues. You're setting loading to false right after starting the fetch, which contradicts the loading state management in your fetchUser function.
                                </div>
                                <div class="comment-actions">
                                    <div class="comment-action">Like</div>
                                    <div class="comment-action">Reply</div>
                                    <div class="comment-action">2h ago</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="post-card">
                    <div class="post-header">
                        <div class="user-info">
                            <img src="../static/images/man (1).png" alt="Alex Rodriguez">
                            <div class="user-text">
                                <div class="user-name">Alex Rodriguez</div>
                                <div class="post-meta">
                                    <span>Backend Developer</span>
                                    <span class="dot">•</span>
                                    <span>4h ago</span>
                                    <span class="post-tag">Python</span>
                                </div>
                            </div>
                        </div>
                        <button class="post-menu"><i class="fas fa-ellipsis-h"></i></button>
                    </div>
                    <div class="post-content">
                        <p>Anyone have experience optimizing this recursive algorithm? It works but times out on large inputs.</p>
                        <div class="code-block">
                            <div class="code-header">
                                <div class="language-tag">
                                    <i class="fab fa-python"></i> Python
                                </div>
                                <div class="code-actions">
                                    <button class="code-action-btn"><i class="fas fa-copy"></i></button>
                                    <button class="code-action-btn"><i class="fas fa-expand"></i></button>
                                </div>
                            </div>
                            <pre><span class="line-numbers">1</span>def find_paths(graph, start, end, path=[]):
<span class="line-numbers">2</span>    path = path + [start]
<span class="line-numbers">3</span>    if start == end:
<span class="line-numbers">4</span>        return [path]
<span class="line-numbers">5</span>    if start not in graph:
<span class="line-numbers">6</span>        return []
<span class="line-numbers">7</span>    paths = []
<span class="line-numbers">8</span>    for node in graph[start]:
<span class="line-numbers">9</span>        if node not in path:
<span class="line-numbers">10</span>            new_paths = find_paths(graph, node, end, path)
<span class="line-numbers">11</span>            for p in new_paths:
<span class="line-numbers">12</span>                paths.append(p)
<span class="line-numbers">13</span>    return paths
<span class="line-numbers">14</span>
<span class="line-numbers">15</span># Example usage with large graph
<span class="line-numbers">16</span>graph = {
<span class="line-numbers">17</span>    'A': ['B', 'C', 'D'],
<span class="line-numbers">18</span>    'B': ['E', 'F'],
<span class="line-numbers">19</span>    'C': ['G', 'H'],
<span class="line-numbers">20</span>    # ... many more nodes
<span class="line-numbers">21</span>}</pre>
                        </div>
                    </div>
                    <div class="post-stats">
                        <div>8 Likes • 4 Comments • 1 Request</div>
                        <div>Viewed 45 times</div>
                    </div>
                    <div class="post-actions-menu">
                        <button class="action-btn" id="like-btn-2">
                            <i class="far fa-thumbs-up"></i> Like
                        </button>
                        <button class="action-btn" id="comment-btn-2">
                            <i class="far fa-comment"></i> Comment
                        </button>
                        <button class="action-btn" id="request-btn-2">
                            <i class="far fa-edit"></i> Request modification
                        </button>
                    </div>
                    
                    <div class="comments-section" id="comments-2" style="display: none;">
                        <div class="comment-form">
                            <img src="/api/placeholder/320/320" alt="Your profile">
                            <div class="comment-input-container">
                                <input type="text" class="comment-input" placeholder="Write a comment...">
                                <button class="comment-submit"><i class="fas fa-paper-plane"></i></button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="right-sidebar sidebar">
                <div class="sidebar-section">
                    <h3>Code Challenges</h3>
                    <div class="challenge-card">
                        <div class="challenge-header">
                            <div class="challenge-title">Algorithmic Challenge</div>
                            <div class="challenge-level medium">Medium</div>
                        </div>
                        <div class="challenge-desc">Implement a function to find the longest palindromic substring in a given string.</div>
                        <button class="challenge-btn">Start Challenge</button>
                    </div>
                    <div class="challenge-card">
                        <div class="challenge-header">
                            <div class="challenge-title">Frontend Challenge</div>
                            <div class="challenge-level hard">Hard</div>
                        </div>
                        <div class="challenge-desc">Build a drag-and-drop interface that updates a database in real-time.</div>
                        <button class="challenge-btn">Start Challenge</button>
                    </div>
                </div>

                <div class="sidebar-section">
                    <h3>Top Contributors</h3>
                    <div class="contributor">
                        <img src="../static/images/woman.png" alt="Julia Lee">
                        <div class="contributor-info">
                            <div class="contributor-name">Julia Lee</div>
                            <div class="contributor-level">Senior Developer</div>
                        </div>
                    </div>
                    <div class="contributor">
                        <img src="../static/images/man.png" alt="Michael Wong">
                        <div class="contributor-info">
                            <div class="contributor-name">Michael Wong</div>
                            <div class="contributor-level">Full Stack Engineer</div>
                        </div>
                    </div>
                    <div class="contributor">
                        <img src="../static/images/woman (1).png" alt="Rachel Kim">
                        <div class="contributor-info">
                            <div class="contributor-name">Rachel Kim</div>
                            <div class="contributor-level">React Specialist</div>
                        </div>
                    </div>
                </div>

                <div class="sidebar-section">
                    <h3>Trending Topics</h3>
                    <div class="trending-tags">
                        <div class="tag">#ReactHooks</div>
                        <div class="tag">#AlgorithmOptimization</div>
                        <div class="tag">#TypeScript</div>
                        <div class="tag">#MachineLearning</div>
                        <div class="tag">#WebPerformance</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="../static/js/review-page.js"></script>
</body>
</html>